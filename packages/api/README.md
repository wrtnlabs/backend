# Wrtnlabs SDK Library
![Wrtn logo](https://github.com/user-attachments/assets/2ce2459f-28af-4ac5-93f9-9372976ff2d6)
![GitHub License](https://img.shields.io/github/license/wrtnlabs/backend?color=blue)
![NPM Version](https://img.shields.io/npm/v/%40wrtnlabs%2Fos-api)
![NPM Downloads](https://img.shields.io/npm/dm/%40wrtnlabs%2Fos-api)
![GitHub Actions Workflow Status](https://img.shields.io/github/actions/workflow/status/wrtnlabs/backend/build)
![Static Badge](https://img.shields.io/badge/guide-swagger-green?link=qwd)

This is a SDK library generated by [`nestia`](https://nestia.io/docs/).

With this SDK library, you can easily and safely interact with backend server.

To interact with WrtnLabs Backend APIs and interfaces, use the official SDK `@wrtnlabs/os-api`. The SDK ensures secure API communication and provides interface definitions directly in the code.

### Features of `@wrtnlabs/os-api`

* Provides typed API communication with DTO structures.
* Eliminates the need for manual API documentation lookup.
* Enables safe and convenient interaction for frontend developers.
* Developers can use predefined interfaces and asynchronous functions without manually redefining API structures.
* More efficient and user-friendly compared to traditional REST API solutions.


Just import and call some API functions like gif image below:

![sdk-demo](https://user-images.githubusercontent.com/13158709/215004990-368c589d-7101-404e-b81b-fbc936382f05.gif)
> Left is server code, and right is client code utilizing the SDK

When the SDK has been published, client programmers can interact with this backend server very easily. Just let them to install the SDK and call the SDK functions with the `await` symbol like below.

## Getting Start

### Backend Setup
```bash
git clone https://github.com/wrtnlabs/backend wrtnlabs-backend
cd wrtnlabs-backend

# Install PostgreSQL via Docker
bash postgres.sh 

# Install dependencies and build
pnpm install
pnpm run build

# Set up database
pnpm run schema     # DB schema initialization
pnpm run data:seed  # Seed data insertion
pnpm run start
```

> If you contact credentials error when executing the `pnpm run schema` command, please try this command:
> ```bash
> pnpm run schema <your_username> <your_password>
> ```

### Client setup
```bash
mkdir wrtnlabs-client
cd wrtnlabs-client

# Initialize npm project
npm init -y

# Install SDK
npm i @wrtnlabs/os-api

# Install TypeScript
npm i typescript @types/node --save-dev

# Initialize TypeScript configuration
npx tsc --init
```

```typescript
import OsApi from "@wrtnlabs/os-api/lib/index";
import { IHubCustomer } from "@wrtnlabs/os-api/lib/structures/hub/actors/IHubCustomer";

const main = async () => {
  const connection: IConnection = {
    host: "http://localhost:3700", // Backend server URL
  };

  // Example API call
  const customer: IHubCustomer.IAuthorized =
    await OsApi.functional.hub.customers.authenticate.create(connection, {
      href: "http://localhost:3700",
      referrer: "http://localhost:3700",
      channel_code: "wrtn",
      external_user: null,
      lang_code: null,
    });
  
  console.log(customer);
};
main().catch(console.error);
```

# SDK Structure Description
The SDK is divided into several modules, each of which provides a different set of features and functionalities.



## `hub` - Main API and API Marketplace
The `hub` module provides core functionality for APIs and the API marketplace.

- `authenticate`: Handles user authentication and permission management.
- `commons`: Provides utilities and common functions used across multiple modules.
- `coupons`: Manages coupon creation, administration, and application logic.
- `deposits`: Offers deposit management and handles deposit/withdrawal processing.
- `openapi`: Provides open API interfaces for integration with external systems.
- `carts`: Manages shopping carts and related functionalities.
- `orders`: Handles order processing, status management, and order-related features.
- `push_messages`: Manages push notifications and message dispatch.
- `sales`: Provides sales data management and sales-related functions.
- `statistics`: Handles collection of statistical data, analysis, and reporting.
- `systematic`: Offers system configuration and management features.
- `members`: Manages member accounts and related functionalities.
- `externals`: Handles external service integrations and interfaces.
- `citizens`: Provides citizen (user) management and related features.
- `emails`: Manage a user's email.

## `studio` - Management and Development Tools
The `studio` module provides an interface for managing LLM features and user permissions.

- `accounts`: Handles account management, authentication, and permission settings.
- `enterprises`: Manages enterprise accounts and enterprise-related features.
- `meta`: Start and stop chats with LLM, provide function calls, etc.
- `applications`: Provides users the ability to create their own agents.